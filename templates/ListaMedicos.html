<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ Titulo }}</title>
    <link rel="icon" type="image/png" href="/static/img/LogoNav.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Concert+One&family=Poppins&display=swap" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>

    {#Links Google#}
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Concert+One&family=Poppins&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="../static/estiloListaM.css">
</head>
<body>

{# Nav #}
    <nav class="Nav">
        <img class="Logo" src="/static/img/LogoNav.png">
        <div class="IconNav">
            <div>
                <a href="/" class="IconsNav">
                    <span class="TextNav">Home</span>
                </a>
            </div>
            <div>
                <a href="/" class="IconsNav">
                    <span class="TextNav">Cadastros</span>
                </a>
            </div>
            <div>
                <a href="/" class="IconsNav">
                    <span class="TextNav">Galeria</span>
                </a>
            </div>
            <div>
                <a href="/gestao" class="IconsNav">
                    <span class="TextNav">Acessar</span>
                </a>
            </div>
            <div>
                <a href="/login" class="IconsNav">
                    <button class="btnSair">Sair</button>
                </a>
            </div>
        </div>
    </nav>

    <div class="page-header">
        <h1>{{ Titulo }}</h1>
    </div>

    {# Lógica para cada médico na lista de médicos #}
    {% for Medicos in ListaMedicos %}
        <div class="medico-card">

            {# Verifica o gênero e exibe a imagem apropriada #}
            {% if Medicos[3] == 'Feminino' %}
                <img src="/static/img/ImgListaM/Médica1.png" alt="Imagem Feminina">
            {% elif Medicos[3] == 'Masculino' %}
                <img src="/static/img/ImgListaM/Médico2.png" alt="Imagem Masculina">
            {% else %}
                <img src="/static/img/ImgListaM/Outro.png" alt="Imagem Outro Gênero">
            {% endif %}

            <h2>{{ Medicos[1] }}</h2>
            <p><strong>Formação:</strong> {{ Medicos[4] }}</p>
            <p><strong>Especialidade:</strong> {{ Medicos[5] }}</p>
            <p><strong>Data de Nascimento:</strong> <span class="data-nascimento">{{ Medicos[2] }}</span></p>
            <p><strong>Gênero:</strong> {{ Medicos[3] }}</p>

            {# Ações #}
            <div class="botoes">
                <div>
                   <a href="/editarMed/{{ Medicos[0] }}/{{ pagina }}" >
                         <img src="/static/img/ImgListaM/Editar.png">
                   </a>
                </div>

                <div>
                     <a href="/excluirMedicos/{{ Medicos[0] }}/{{ pagina }}" >
                        <img src="/static/img/ImgListaM/Excluir.png">
                    </a>
                </div>
            </div>

        </div>
    {% endfor %}

{# Paginação #}
    <div class="paginacao">
        {% if pagina > 1 %}
            {% set num_pagina_ant = pagina - 1 %}
            <a href="/listaMedicos/{{ num_pagina_ant }}">
                <img src="/static/img/ImgListaM/Voltar.png">
            </a>
        {% endif %}
        {% if pagina < total_paginas %}
            {% set num_pagina_prox = pagina + 1 %}
            <a href="/listaMedicos/{{ num_pagina_prox }}">
                <img src="/static/img/ImgListaM/Próximapágina.png">
            </a>
        {% endif %}
    </div>

 {# Rodapé #}
    <footer class="Rodape">
        <div class="RodInformacoes">

            <div class="TextoRodape">
                <h3 class="tituloRod">Atendimento</h3>
                <p class="textRod">Segunda a sexta, das 8h as 17h e Sábado das 8h ao 12h</p>
            </div>

            <div class="TextoRodape">
                <h3 class="tituloRod">Contato</h3>
                <p class="textRod">(18) 99196-8778</p>
                <p class="textRod">(18) 3652-0509</p>
            </div>

            <div class="TextoRodape">
                <h3 class="tituloRod">Endereço</h3>
                <p class="textRodDois">Av. Eduardo de Castilho, 1016 - Centro, Penápolis - SP, 16300-021</p>
            </div>
        </div>

        <div class="RodRedes">
            <div class="Redes">
                <a href="https://www.facebook.com/?locale=pt_BR">
                    <div><img class="imgRod" src="../static/img/ImgRodape/IconFace.png"></div>
                </a>
                <a href="https://www.instagram.com/">
                    <div><img class="imgRod" src="../static/img/ImgRodape/IconInstagram.png"></div>
                </a>
            </div>
        </div>
    </footer>

    <script>
        $(document).ready(function(){
            // Converte a data do formato yyyy/mm/dd para dd/mm/yyyy
            $('.data-nascimento').each(function() {
                let dataOriginal = $(this).text(); // Pega o valor original (yyyy/mm/dd)
                let partes = dataOriginal.split('-'); // Divide a data original
                if (partes.length === 3) {
                    let dataFormatada = `${partes[2]}/${partes[1]}/${partes[0]}`; // Reorganiza para dd/mm/yyyy
                    $(this).text(dataFormatada); // Define o valor formatado
                }
            });
        });
    </script>


</body>
</html>